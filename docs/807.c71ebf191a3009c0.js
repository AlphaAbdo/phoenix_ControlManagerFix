"use strict";(self.webpackChunkphoenix_app=self.webpackChunkphoenix_app||[]).push([[807],{8807:(E,r,_)=>{_.r(r),_.d(r,{TPolyLinePainter:()=>l});var c=_(5072),o=_(8872),m=_(2843),u=_(9640),P=_(4483),x=_(5992),d=_(7900);const f=(0,o.BIT)(14);class l extends u.JW{moveDrag(t,i){this.dx+=t,this.dy+=i,(0,m.bk)(this.draw_g.select("path"),this.dx,this.dy)}moveEnd(t){if(t)return;const i=this.getObject(),a=this.getAxisToSvgFunc(this.isndc);let e="";for(let s=0;s<=i.fLastPoint;++s){const h=this.svgToAxis("x",a.x(i.fX[s])+this.dx,this.isndc),n=this.svgToAxis("y",a.y(i.fY[s])+this.dy,this.isndc);i.fX[s]=h,i.fY[s]=n,e+=`SetPoint(${s},${h},${n});;`}this.submitCanvExec(e+"Notify();;"),this.redraw()}getUserRanges(){const t=this.getObject();if(t.TestBit(f)||!t.fLastPoint)return null;let a=t.fX[0],e=a,s=t.fY[0],h=s;for(let n=1;n<=t.fLastPoint;++n)a=Math.min(a,t.fX[n]),e=Math.max(e,t.fX[n]),s=Math.min(s,t.fY[n]),h=Math.max(h,t.fY[n]);return{minx:a,miny:s,maxx:e,maxy:h}}redraw(){this.createG();const t=this.getObject(),i=t.TestBit(f),a=this.getDrawOpt()||t.fOption,e=t._typename===o.clTPolyLine&&(0,o.isStr)(a)&&a.toLowerCase().indexOf("f")>=0,s=this.getAxisToSvgFunc(i);this.createAttLine({attr:t}),this.createAttFill({attr:t,enable:e});let h="";for(let n=0;n<=t.fLastPoint;++n)h+=`${n>0?"L":"M"}${s.x(t.fX[n])},${s.y(t.fY[n])}`;return this.draw_g.append("svg:path").attr("d",h+(e?"Z":"")).call(e?()=>{}:this.lineatt.func).call(this.fillatt.func),(0,d.wh)(this,d.Ew),(0,x.X2)(this),this.dx=this.dy=0,this.isndc=i,this}static draw(t,i,a){return(0,c.A)(function*(){const e=new l(t,i,a);return(0,P.ensureTCanvas)(e,!1).then(()=>e.redraw())})()}}}}]);
//# sourceMappingURL=807.c71ebf191a3009c0.js.map