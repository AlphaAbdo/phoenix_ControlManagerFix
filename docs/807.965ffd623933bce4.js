"use strict";(self.webpackChunkphoenix_app=self.webpackChunkphoenix_app||[]).push([[807],{8807:(E,r,_)=>{_.r(r),_.d(r,{TPolyLinePainter:()=>l});var c=_(5072),o=_(8872),m=_(2843),P=_(9640),u=_(4483),x=_(5992),d=_(7900);const f=(0,o.BIT)(14);class l extends P.JW{moveDrag(t,n){this.dx+=t,this.dy+=n,(0,m.bk)(this.draw_g.select("path"),this.dx,this.dy)}moveEnd(t){if(t)return;const n=this.getObject(),a=this.getAxisToSvgFunc(this.isndc);let e="";for(let s=0;s<=n.fLastPoint;++s){const h=this.svgToAxis("x",a.x(n.fX[s])+this.dx,this.isndc),i=this.svgToAxis("y",a.y(n.fY[s])+this.dy,this.isndc);n.fX[s]=h,n.fY[s]=i,e+=`SetPoint(${s},${h},${i});;`}this.submitCanvExec(e+"Notify();;"),this.redraw()}getUserRanges(){const t=this.getObject();if(t.TestBit(f)||!t.fLastPoint)return null;let a=t.fX[0],e=a,s=t.fY[0],h=s;for(let i=1;i<=t.fLastPoint;++i)a=Math.min(a,t.fX[i]),e=Math.max(e,t.fX[i]),s=Math.min(s,t.fY[i]),h=Math.max(h,t.fY[i]);return{minx:a,miny:s,maxx:e,maxy:h}}redraw(){this.createG();const t=this.getObject(),n=t.TestBit(f),a=this.getDrawOpt()||t.fOption,e=t._typename===o.clTPolyLine&&(0,o.isStr)(a)&&a.toLowerCase().indexOf("f")>=0,s=this.getAxisToSvgFunc(n);this.createAttLine({attr:t}),this.createAttFill({attr:t,enable:e});let h="";for(let i=0;i<=t.fLastPoint;++i)h+=`${i>0?"L":"M"}${s.x(t.fX[i])},${s.y(t.fY[i])}`;return this.draw_g.append("svg:path").attr("d",h+(e?"Z":"")).call(e?()=>{}:this.lineatt.func).call(this.fillatt.func),(0,d.wh)(this,d.Ew),(0,x.X2)(this),this.dx=this.dy=0,this.isndc=n,this}static draw(t,n,a){return(0,c.A)(function*(){const e=new l(t,n,a);return(0,u.ensureTCanvas)(e,!1).then(()=>e.redraw())})()}}}}]);
//# sourceMappingURL=807.965ffd623933bce4.js.map