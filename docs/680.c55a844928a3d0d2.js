"use strict";(self.webpackChunkphoenix_app=self.webpackChunkphoenix_app||[]).push([[680],{1156:(w,y,f)=>{f.r(y),f.d(y,{drawPolyLine3D:()=>O,drawPolyMarker3D:()=>E});var z=f(1515),D=f(1773),c=f(6772),M=f(3182);function g(i,e){let n=i.getFramePainter();if(!n?.mode3d||!e)return null;if(n.toplevel)return n;let l=i.getMainPainter();return l?"function"==typeof l.drawExtras?l.drawExtras(e):null:(0,M.drawDummy3DGeom)(i)}function E(){let i=this.getObject(),e=g(this,i);if(!(e&&"object"==typeof e&&e.grx&&e.gry&&e.grz))return e;let n=1,a=0,r=i.fP;for(let t=0;t<r.length;t+=3)r[t]<e.scale_xmin||r[t]>e.scale_xmax||r[t+1]<e.scale_ymin||r[t+1]>e.scale_ymax||r[t+2]<e.scale_zmin||r[t+2]>e.scale_zmax||++a;D.settings.OptimizeDraw>0&&a>5e4&&(n=Math.floor(a/5e4),n<=2&&(n=2));let s=Math.floor(a/n),_=new c.B_(s,e.webgl,e.size_x3d/100),h=new Int32Array(s),p=0,v=0;for(let t=0;t<r.length;t+=3)r[t]<e.scale_xmin||r[t]>e.scale_xmax||r[t+1]<e.scale_ymin||r[t+1]>e.scale_ymax||r[t+2]<e.scale_zmin||r[t+2]>e.scale_zmax||n>1&&(p=(p+1)%n,0!==p)||(h[v++]=t,_.addPoint(e.grx(r[t]),e.gry(r[t+1]),e.grz(r[t+2])));return _.createPoints({color:this.getColor(i.fMarkerColor),style:i.fMarkerStyle}).then(t=>(t.tip_color=3===i.fMarkerColor?16711680:65280,t.tip_name=i.fName||"Poly3D",t.poly=i,t.painter=e,t.scale0=.7*_.scale,t.index=h,e.toplevel.add(t),t.tooltip=function(u){if(!Number.isInteger(u.index))return console.error(`intersect.index not provided, three.js version ${z.UZH}`),null;let o=Math.floor(u.index/this.nvertex);if(o<0||o>=this.index.length)return null;o=this.index[o];let x=this.painter,d=x.grx(this.poly.fP[o]),P=x.gry(this.poly.fP[o+1]),m=x.grz(this.poly.fP[o+2]);return{x1:d-this.scale0,x2:d+this.scale0,y1:P-this.scale0,y2:P+this.scale0,z1:m-this.scale0,z2:m+this.scale0,color:this.tip_color,lines:[this.tip_name,"pnt: "+o/3,"x: "+x.axisAsText("x",this.poly.fP[o]),"y: "+x.axisAsText("y",this.poly.fP[o+1]),"z: "+x.axisAsText("z",this.poly.fP[o+2])]}},e.render3D(100),this))}function O(){let i=this.getObject(),e=g(this,i);if(!(e&&"object"==typeof e&&e.grx&&e.gry&&e.grz))return e;let n=3*i.fN,l=i.fP,a=[];for(let s=3;s<n;s+=3)a.push(e.grx(l[s-3]),e.gry(l[s-2]),e.grz(l[s-1]),e.grx(l[s]),e.gry(l[s+1]),e.grz(l[s+2]));let r=(0,c.Qy)(a,(0,c.rq)(this,i));return e.toplevel.add(r),!0}}}]);
//# sourceMappingURL=680.c55a844928a3d0d2.js.map