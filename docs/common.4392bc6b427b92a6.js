"use strict";(self.webpackChunkphoenix_app=self.webpackChunkphoenix_app||[]).push([[76],{8497:(E,m,o)=>{function c(u){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}o.d(m,{A:()=>c})},801:(E,m,o)=>{o.r(m),o.d(m,{TLinePainter:()=>d});var c=o(4882),u=o(8872),h=o(1922),f=o(4483),x=o(5992),n=o(7900);const e=(0,u.BIT)(14);class d extends h.JW{moveStart(s,t){const a=Math.sqrt((this.x1-this.x2)**2+(this.y1-this.y2)**2),_=Math.sqrt((s-this.x1)**2+(t-this.y1)**2)/a,y=Math.sqrt((s-this.x2)**2+(t-this.y2)**2)/a;this.side=_>.9?1:y>.9?-1:0}moveDrag(s,t){1!==this.side&&(this.x1+=s,this.y1+=t),-1!==this.side&&(this.x2+=s,this.y2+=t),this.draw_g.select("path").attr("d",this.createPath())}moveEnd(s){if(s)return;const t=this.getObject();let a="";t.fX1=this.svgToAxis("x",this.x1,this.isndc),t.fX2=this.svgToAxis("x",this.x2,this.isndc),t.fY1=this.svgToAxis("y",this.y1,this.isndc),t.fY2=this.svgToAxis("y",this.y2,this.isndc),1!==this.side&&(a+=`SetX1(${t.fX1});;SetY1(${t.fY1});;`),-1!==this.side&&(a+=`SetX2(${t.fX2});;SetY2(${t.fY2});;`),this.submitCanvExec(a+"Notify();;")}prepareDraw(){const s=this.getObject();this.isndc=s.TestBit(e);const t=this.getAxisToSvgFunc(this.isndc,!0);this.x1=t.x(s.fX1),this.y1=t.y(s.fY1),this.x2=t.x(s.fX2),this.y2=t.y(s.fY2),this.createAttLine({attr:s})}createPath(){const s=Math.round(this.x1),t=Math.round(this.x2),a=Math.round(this.y1),_=Math.round(this.y2);return`M${s},${a}`+(s===t?`V${_}`:a===_?`H${t}`:`L${t},${_}`)}addExtras(){}redraw(){this.createG(),this.prepareDraw();const s=this.draw_g.append("svg:path").attr("d",this.createPath()).call(this.lineatt.func);return this.addExtras(s),(0,x.X2)(this),(0,n.wh)(this,n.Ew),this}static draw(s,t,a){return(0,c.A)(function*(){const _=new d(s,t,a);return(0,f.ensureTCanvas)(_,!1).then(()=>_.redraw())})()}}},643:(E,m,o)=>{o.d(m,{Y:()=>f});var c=o(4882),u=o(8872),h=o(3847);function f(){return x.apply(this,arguments)}function x(){return(x=(0,c.A)(function*(){const n=this.$fp||this.getFramePainter();if(delete this.$fp,!((0,u.isObject)(n)&&n.grx&&n.gry&&n.grz))return this;const e=this.getObject(),r=e.fP;let s=1,t=0;for(let i=0;i<r.length;i+=3)r[i]<n.scale_xmin||r[i]>n.scale_xmax||r[i+1]<n.scale_ymin||r[i+1]>n.scale_ymax||r[i+2]<n.scale_zmin||r[i+2]>n.scale_zmax||++t;u.settings.OptimizeDraw>0&&t>5e4&&(s=Math.floor(t/5e4),s<=2&&(s=2));const a=Math.floor(t/s),_=new h._l(a,n.webgl,n.size_x3d/100),y=new Int32Array(a);let g=0,P=0;for(let i=0;i<r.length;i+=3)r[i]<n.scale_xmin||r[i]>n.scale_xmax||r[i+1]<n.scale_ymin||r[i+1]>n.scale_ymax||r[i+2]<n.scale_zmin||r[i+2]>n.scale_zmax||s>1&&(g=(g+1)%s,0!==g)||(y[P++]=i,_.addPoint(n.grx(r[i]),n.gry(r[i+1]),n.grz(r[i+2])));return _.createPoints({color:this.getColor(e.fMarkerColor),style:e.fMarkerStyle}).then(i=>(i.tip_color=3===e.fMarkerColor?16711680:65280,i.tip_name=e.fName||"Poly3D",i.poly=e,i.fp=n,i.scale0=.7*_.scale,i.index=y,n.add3DMesh(i,this,!0),i.tooltip=function(T){let l=Math.floor(T.index/this.nvertex);if(l<0||l>=this.index.length)return null;l=this.index[l];const p=this.fp,M=p.grx(this.poly.fP[l]),D=p.gry(this.poly.fP[l+1]),O=p.grz(this.poly.fP[l+2]);return{x1:M-this.scale0,x2:M+this.scale0,y1:D-this.scale0,y2:D+this.scale0,z1:O-this.scale0,z2:O+this.scale0,color:this.tip_color,lines:[this.tip_name,"pnt: "+l/3,"x: "+p.axisAsText("x",this.poly.fP[l]),"y: "+p.axisAsText("y",this.poly.fP[l+1]),"z: "+p.axisAsText("z",this.poly.fP[l+2])]}},n.render3D(100),this))})).apply(this,arguments)}},7917:(E,m,o)=>{o.d(m,{k:()=>x});var c=o(4882),u=o(2679),h=o(8142),f=o(3847);class x extends u.TGraphPainter{drawBins3D(e,d){if(!(e.mode3d&&e.grx&&e.gry&&e.grz&&e.toplevel))return console.log("Frame painter missing base 3d elements");if(e.zoom_xmin!==e.zoom_xmax&&(this.options.pos3d<e.zoom_xmin||this.options.pos3d>e.zoom_xmax))return;this.createGraphDrawAttributes(!0);const r=this.optimizeBins(1e3);let s=0,t=r.length-1;if(e.zoom_ymin!==e.zoom_ymax){for(;s<t&&r[s].x<e.zoom_ymin;)s++;for(;s<t&&r[t].x>e.zoom_ymax;)t--}if(s===t)return;const a=[],_=e.grx(this.options.pos3d);let y=r[s];for(let P=s+1;P<=t;++P){const i=r[P];a.push(_,e.gry(y.x),e.grz(y.y),_,e.gry(i.x),e.grz(i.y)),y=i}const g=(0,f.Fc)(a,(0,f.DH)(this,d));e.add3DMesh(g,this,!0),e.render3D(100)}drawAxisHisto(){var e=this;return(0,c.A)(function*(){return h.TH1Painter.draw(e.getDom(),e.createHistogram(),e.options.Axis)})()}static draw(e,d,r){return(0,c.A)(function*(){return x._drawGraph(new x(e,d),r)})()}}}}]);
//# sourceMappingURL=common.4392bc6b427b92a6.js.map