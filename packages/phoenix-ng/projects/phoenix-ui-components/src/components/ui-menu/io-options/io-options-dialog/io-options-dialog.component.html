<div class="dialog">
  <h1 mat-dialog-title>Import and export options</h1>
  <div mat-dialog-content class="dialog-content">
    <div *ngIf="eventDataImportOptions.length > 0">
      <h5>Import</h5>

      <h6 class="text-center">Event data</h6>

      <div class="row centered">
        <ng-container
          *ngFor="let eventDataImportOption of eventDataOptionsWithHandler"
        >
          <input
            type="file"
            [id]="'eventData' + eventDataImportOption.format + 'File'"
            class="inputfile"
            [accept]="eventDataImportOption.accept"
            (change)="eventDataImportOption.handler($event.target.files)"
          />
          <label
            [for]="'eventData' + eventDataImportOption.format + 'File'"
            class="imageLabel"
          >
            <img src="assets/icons/eventData.svg" alt="Event data icon" />
            Load {{ eventDataImportOption.fileType }}
          </label>
        </ng-container>
      </div>

      <p class="text-center">
        Supported formats: {{ getSupportedEventDataFormats() }}
      </p>
    </div>

    <h6 class="text-center">Geometries</h6>

    <div class="row centered">
      <input
        type="file"
        id="objFile"
        class="inputfile"
        accept=".obj"
        name="image"
        (change)="handleOBJInput($event.target.files)"
      />
      <label for="objFile" class="imageLabel">
        <img src="assets/icons/obj.svg" alt="" /> Load .obj
      </label>

      <input
        type="file"
        id="gltfFile"
        class="inputfile"
        accept=".gltf"
        name="image"
        (change)="handleGLTFInput($event.target.files)"
      />
      <label for="gltfFile" class="imageLabel">
        <img src="assets/icons/gltf.svg" alt="" /> Load .gltf
      </label>

      <input
        type="file"
        id="rootFile"
        class="inputfile"
        accept=".root"
        (change)="handleROOTInput($event.target.files)"
      />
      <label for="rootFile" class="imageLabel">
        <img src="assets/icons/file-import.svg" alt="" /> Load .root
      </label>

      <input
        type="file"
        id="rootJSONFile"
        class="inputfile"
        accept=".json.gz"
        (change)="handleRootJSONInput($event.target.files)"
      />
      <label for="rootJSONFile" class="imageLabel">
        <img src="assets/icons/file-import.svg" alt="" /> Load .json.gz
      </label>
    </div>

    <p class="text-center">Supported formats: OBJ, GLTF, ROOT, ROOT JSON</p>

    <h5>Import / export scene</h5>

    <div class="row centered">
      <label
        class="imageLabel loadExport"
        id="exportScene"
        (click)="saveScene()"
      >
        <img src="assets/icons/save.svg" alt="" /> Save scene
      </label>

      <input
        type="file"
        id="loadScene"
        class="inputfile"
        accept=".phnx"
        name="image"
        (change)="handlePhoenixInput($event.target.files)"
      />
      <label for="loadScene" class="imageLabel loadExport" id="importScene">
        <img src="assets/icons/upload.svg" alt="" /> Load scene
      </label>

      <label
        class="imageLabel exportLabel"
        id="exportOBJ"
        (click)="exportOBJ()"
      >
        <img src="assets/icons/obj.svg" alt="" /> Save OBJ
      </label>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-button (click)="onClose()" cdkFocusInitial>Close</button>
  </div>
</div>
